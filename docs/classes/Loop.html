<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Loop - strongforce</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="strongforce"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/EventEmitter.html">EventEmitter</a></li>
            
                <li><a href="../classes/Loop.html">Loop</a></li>
            
                <li><a href="../classes/LoopOptions.html">LoopOptions</a></li>
            
                <li><a href="../classes/Model.html">Model</a></li>
            
                <li><a href="../classes/Render.html">Render</a></li>
            
                <li><a href="../classes/Simulator.html">Simulator</a></li>
            
                <li><a href="../classes/StrongforceModelEvent.html">StrongforceModelEvent</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1>Loop Class</h1>
<div class="box meta">
    

    

    
        <div class="foundat">
            Defined in: <a href="../files/src_Loop.js.html#l50"><code>src&#x2F;Loop.js:50</code></a>
        </div>
    

    

    
</div>



<div class="box intro">
    <p>The loop is the main piece of strongforce. It coordinates simulation and
rendering stages on the model. A loop takes a root model to traverse in
each stage.</p>
<p>Despite it is able to simulate the model at a constant rate, the loop is
driven by <code>window.requestAnimationFrame()</code> to schedule next loop step so
rendering is coined to this rate. Foreso, this is the <strong>frame rate</strong>
as well.</p>

</div>


    <div class="constructor">
        <h2>Constructor</h2>
        <div id="method_Loop" class="method item">
    <h3 class="name"><code>Loop</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>customOptions</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Loop.js.html#l50"><code>src&#x2F;Loop.js:50</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">customOptions</code>
                        <span class="type"><a href="../classes/LoopOptions.html" class="crosslink">LoopOptions</a></span>
                    

                    

                    <div class="param-description">
                        <p>Hash to customize the loop. The
<a href="../classes/LoopOptions.html#property_rootModel" class="crosslink">rootModel</a> key
is mandatory.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

    </div>


<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

        
            <li class="api-class-tab methods"><a href="#methods">Methods</a></li>
        
        
            <li class="api-class-tab properties"><a href="#properties">Properties</a></li>
        
        
        
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

            
                <div class="index-section methods">
                    <h3>Methods</h3>

                    <ul class="index-list methods">
                        
                            <li class="index-item method private">
                                <a href="#method_loopStep">loopStep</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_pause">pause</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_reset">reset</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_resume">resume</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_start">start</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_step">step</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            
                <div class="index-section properties">
                    <h3>Properties</h3>

                    <ul class="index-list properties">
                        
                            <li class="index-item property">
                                <a href="#property_frameTime">frameTime</a>

                                
                                
                            </li>
                        
                            <li class="index-item property">
                                <a href="#property_rootModel">rootModel</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            

            
        </div>

        
            <div id="methods" class="api-class-tabpanel">
                <h2 class="off-left">Methods</h2>

                
                    <div id="method_loopStep" class="method item private">
    <h3 class="name"><code>loopStep</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>requestAnimationTime</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>forcedTimeToSimulate</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Loop.js.html#l152"><code>src&#x2F;Loop.js:152</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>The loop step is based on the article <strong>Fix your timestep!</strong>
(<a href="http://gafferongames.com/game-physics/fix-your-timestep/">http://gafferongames.com/game-physics/fix-your-timestep/</a>) by
<em>Glenn Fiedler</em>.</p>
<p>The loop step is the core of strongforce. It is in charge of orchestrate
the simulation and rendering stages. From frame to frame, the time frame
is recorded and simulated in chunks of constant rate given by the
<a href="../classes/LoopOptions.html#property_simulationDelta" class="crosslink">simulationDelta</a>
option.</p>
<p>In strongforce, a <a href="../classes/Model.html" class="crosslink">Model</a> instance has
<em>facets</em>. A facet is a object in charge of provide a specific
functionality for the model. This object can be a function or a
function-like object implementing <code>Function.prototype.apply()</code> signature.</p>
<p>During simulation and rendering stages, the
<a href="../classes/Loop.html#property_rootModel" class="crosslink">rootModel</a> is visited in a
recursive way by
calling <a href="../classes/Model.html#method_simulate" class="crosslink">simulate</a> or
<a href="../classes/Model.html#method_render" class="crosslink">render</a> methods on each model
in pre-order, i.e. first the model itself, then its submodels.</p>
<p>Actually, each facet is called twice, one before visiting the children
and another one after visiting them all. These calls are named pre-call
and post-call and are distinguished by passing a <code>isPostCall</code> flag to
the facet.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">requestAnimationTime</code>
                        <span class="type">DOMHighResTimeStamp</span>
                    

                    

                    <div class="param-description">
                        <p>[Not used].</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">forcedTimeToSimulate</code>
                        <span class="type">Number</span>
                    

                    

                    <div class="param-description">
                        <p>Milliseconds to simulate.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_pause" class="method item">
    <h3 class="name"><code>pause</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Loop.js.html#l115"><code>src&#x2F;Loop.js:115</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Freezes the loop.</p>

    </div>

    

    

    
</div>

                
                    <div id="method_reset" class="method item">
    <h3 class="name"><code>reset</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code class="optional">[newOffset=0]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Loop.js.html#l100"><code>src&#x2F;Loop.js:100</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Pause and force the current simulation time to 0 or other moment if
indicated.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name optional">[newOffset=0]</code>
                        <span class="type">Number</span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    

                    <div class="param-description">
                        <p>Time in milliseconds for the current
simulation time.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_resume" class="method item">
    <h3 class="name"><code>resume</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Loop.js.html#l125"><code>src&#x2F;Loop.js:125</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Continue with the loop.</p>

    </div>

    

    

    
</div>

                
                    <div id="method_start" class="method item">
    <h3 class="name"><code>start</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Loop.js.html#l87"><code>src&#x2F;Loop.js:87</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Start the loop from the beginning, setting the current simulation time to
0.</p>

    </div>

    

    

    
</div>

                
                    <div id="method_step" class="method item">
    <h3 class="name"><code>step</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code class="optional">[timeToSimulate]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Loop.js.html#l137"><code>src&#x2F;Loop.js:137</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Performs one, <strong>and only one</strong> loop step.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name optional">[timeToSimulate]</code>
                        <span class="type">Number</span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    

                    <div class="param-description">
                        <p>Time to be simulated in this step.
It defaults in
<a href="../classes/LoopOptions.html#property_simulationDelta" class="crosslink">simulationDelta</a>.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
            </div>
        

        
            <div id="properties" class="api-class-tabpanel">
                <h2 class="off-left">Properties</h2>

                
                    <div id="property_frameTime" class="property item">
    <h3 class="name"><code>frameTime</code></h3>
    <span class="type">Unknown</span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Loop.js.html#l266"><code>src&#x2F;Loop.js:266</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Average frame time.</p>

    </div>

    

    

    
</div>

                
                    <div id="property_rootModel" class="property item">
    <h3 class="name"><code>rootModel</code></h3>
    <span class="type"><a href="../classes/Model.html" class="crosslink">Model</a></span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_Loop.js.html#l78"><code>src&#x2F;Loop.js:78</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>The model target of loop.</p>

    </div>

    

    

    
</div>

                
            </div>
        

        

        
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
